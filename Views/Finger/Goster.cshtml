@model IEnumerable<test.Models.giriscikis>
@{
    if ((string)Session["statusname"] != "Admin")
    {
        if ((string)Session["statusname"] != "Master")
        {
            Response.Redirect("~/Login");
        }
    }
    Layout = "~/Views/Shared/_Layout1.cshtml";
}
<div class="row">
    <div class="col-md-6"></div>
    <div class="col-md-6 form-group">
        @using (Html.BeginForm())
        {
            <section class="content" style="font-size:14px">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-10">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label>Başlangıç:&nbsp; </label>
                                </div>
                                <input type="date" name="start" class="form-control datepicker form-control-sm" value="@ViewBag.d2" />
                                <label>&nbsp;Bitiş:&nbsp; </label>
                                <input type="date" name="end" class="form-control datepicker form-control-sm" value="@ViewBag.d1" />
                                &nbsp; &nbsp; <input type="submit" value="Göster" class="btn btn-primary btn-sm fa-download" />
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        }

    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header p-0">
                <ul class="nav nav-pills">
                    <li class=" nav-link"><label>Genel Personel Bilgileri</label></li>
                   
                </ul>
            </div><!-- /.card-header -->
            <div class="card-body">
                <div class="tab-pane" id="settings">
                    <div class="form-horizontal" style="font-size:14px">
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">Kart ID</label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm " placeholder="@ViewBag.kisi.kart_no" disabled="disabled">
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">Adı</label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.ad" disabled="disabled">
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">Soyadı</label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.soyad" disabled="disabled">
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">Telefon</label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.telefon" disabled="disabled">
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">Grup</label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.personelgrup.grupadi" disabled="disabled">
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">Görev</label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.personelgorev.gorevadi" disabled="disabled">
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">Bölüm</label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.personelbolum.blmadi" disabled="disabled">
                            </div>
                        </div>
                        @{
                            if (ViewBag.kisi.personelegitim == null)
                            {
                                <div class="input-group input-group-sm">
                                    <label class="col-sm-4 col-form-label">Eğitim</label>
                                    <div class="col-sm-8">
                                        <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="" disabled="disabled">
                                    </div>
                                </div>
                            }
                            else
                            {

                                <div class="input-group input-group-sm">
                                    <label class="col-sm-4 col-form-label">Eğitim</label>
                                    <div class="col-sm-8">
                                        <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.personelegitim.egitimadi" disabled="disabled">
                                    </div>
                                </div>

                            }
                        }
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">Hesap Numarası</label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.bankahesapno" disabled="disabled">
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">İşe Başlama Tarihi</label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.baslamatarihi.ToString("dd/MM/yyyy")" disabled="disabled">
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <label class="col-sm-4 col-form-label">Resmi İşe Başlama </label>
                            <div class="col-sm-8">
                                <input type="text" style="font-size:16px; font-weight:bold" class="form-control form-control-sm" placeholder="@ViewBag.kisi.resmibaslamatarihi.ToString("dd/MM/yyyy")" disabled="disabled">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.tab-pane -->
                <!-- /.tab-content -->
            </div><!-- /.card-body -->
        </div>
        <!-- /.nav-tabs-custom -->
    </div>

    <div class="col-md-6">
        <div class="card">
            <div class="card-header p-0">
                @using (Html.BeginForm("Excel", "Finger", new { Id = ViewBag.kisi.kart_no }, FormMethod.Post))
                {
                <ul class="nav nav-pills">
                    <li class=" nav-link"><label>Giriş Çıkış</label></li>
                    <li class=" nav-link"><label style="visibility:hidden"><input type="date" name="start" class="datepicker" value="@ViewBag.d2" /></label></li>
                    <li class=" nav-link"><label style="visibility:hidden"><input type="date" name="end" class="datepicker" value="@ViewBag.d1" /></label></li>
                    <li class=" nav-link"><label><input type="submit" value="Excel" class="btn btn-success btn-sm fa-download" /></label></li>
                </ul>
                }
            </div>
            <!-- /.card-header -->
            <div class="card-body">
                <table id="dtBasicExample" class="table table-bordered">
                    <thead>
                        <tr>
                            <th style="width:50%">Tarih</th>
                            <th style="width:25%">Giriş Saati</th>
                            <th style="width:25%">Çıkış Saati</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 0; i < ViewBag.a; i++)
                        {
                        <tr>
                            <td> @ViewBag.end.AddDays(-i).ToString("dd/MM/yyyy")</td>
                            <td> @ViewBag.giris[i]</td>
                            <td> @ViewBag.cikis[i]</td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<link href="~/Content/Admin/plugins/datatables-bs4/css/dataTables.bootstrap4.css" rel="stylesheet" />
<script>
    $(document).ready(function () {

        $('#dtBasicExample').DataTable({
            "language": {
                "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Turkish.json"
            },
            "order": false,
            "pageLength": @Html.Raw(ViewBag.DataPoints1),
        });

    });
</script>